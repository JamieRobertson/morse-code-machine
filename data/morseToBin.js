// Create numerical reprisentaion of morse code letters

var output = [];

const morseData = [
    ['A', '.-'], 
    ['B', '-...'], 
    ['C', '-.-.'], 
    ['D', '-..'], 
    ['E', '.'], 
    ['F', '..-.'], 
    ['G', '--.'], 
    ['H', '....'], 
    ['I', '..'], 
    ['J', '.---'], 
    ['K', '-.-'], 
    ['L', '.-..'], 
    ['M', '--'], 
    ['N', '-.'], 
    ['O', '---'], 
    ['P', '.--.'], 
    ['Q', '--.-'], 
    ['R', '.-.'], 
    ['S', '...'], 
    ['T', '-'], 
    ['U', '..-'], 
    ['V', '...-'], 
    ['W', '.--'], 
    ['X', '-..-'], 
    ['Y', '-.--'], 
    ['Z', '--..'], 
    ['Ä', '.-.-'],
    ['Å', '.--.-'],
    ['Ch', '----'], 
    ['ç', '-.-..'],
    ['Ð', '..--.'],
    ['É', '..-..'],
    ['È', '.-..-'],
    ['Ĝ', '--.-.'],
    ['Ĥ', '-.--.'],
    ['Ĵ', '.---.'],
    ['Ñ', '--.--'],
    ['Ö', '---.'],
    ['Ŝ', '...-.'],
    ['Ü', '..--'],
    ['þ', '.--..'],
    ['0', '-----'], 
    ['1', '.----'], 
    ['2', '..---'], 
    ['3', '...--'], 
    ['4', '....-'], 
    ['5', '.....'], 
    ['6', '-....'], 
    ['7', '--...'], 
    ['8', '---..'], 
    ['9', '----.'], 
    ['.', '.-.-.-'],
    [',', '--..--'],
    [':', '---...'],
    [';', '-.-.-.'], 
    ['?', '..--..'],
    ['!', '-.-.--'], 
    ['\'', '.----.'],
    ['"', '.-..-.'],
    ['-', '-....-'],
    ['+', '.-.-.'],
    ['_', '..--.-'],
    ['/', '-..-.'],
    ['@', '.--.-.'],
    ['=', '-...-']
];

function morseToBin(data, callback) {
    data.forEach(function(val, i) {
        var bin = '';
        var morseNum = 0;
        
        val[1].split('').forEach(function(morseChar) { 
          morseChar == '.' ? bin += 'a' : bin += 'b';
        });
        
        morseNum = parseInt(bin, 16);
        
        output[morseNum] = val[0];
    });
    
    if (typeof callback === 'function') { callback(); }
}

module.exports.init = function () {
    morseToBin(morseData, function() {
      console.log(output);
    });
}
